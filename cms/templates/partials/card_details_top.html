{% load static humanize wagtailcore_tags wagtailimages_tags %}

<div class="cover-image">
  <div class="cover-image-frame">
    {% if courseware_page.thumbnail_image %}
    {% image courseware_page.thumbnail_image fill-275x155 %}
    {% else %}
    <img src="{% static default_image_path %}" alt="Preview image">
    {% endif %}
  </div>
</div>
<div class="top-level-details">
  <h3 class="title">
    <a href="{% pageurl courseware_page %}">
      {{ courseware_page.title }}
    </a>
  </h3>
  <ul>
    {% if courseware_page.product.current_price %}
    <li>
      <strong>Price:</strong>
      ${{ courseware_page.product.current_price|floatformat:"0"|intcomma }}
    </li>
    {% elif courseware_page.is_course_page and courseware_page.product.first_unexpired_run.current_price %}
    <li>
      <strong>Price:</strong>
      ${{ courseware_page.product.first_unexpired_run.current_price|floatformat:"0"|intcomma }}
    </li>
    {% endif %}
    {% if object_type == "program" %}
    <li>
      <strong>Number of Courses:</strong>
      {{ courseware_page.product.courses.count }}
    </li>
    {% endif %}
    {% if courseware_page.duration %}
    <li>
      <strong>Duration:</strong>
      {{ courseware_page.duration }}
    </li>
    {% endif %}
    {% if courseware_page.product.next_run_date %}
    <li>
      <strong>Next Start Date:</strong>
      {{ courseware_page.product.next_run_date|date:"F j, Y" }}
    </li>
    {% endif %}
  </ul>
</div>
<div class="offering-type">
  <label>
    {% if object_type == "course" %}
    Single
    {% else %}
    Multi
    {% endif %}
    Course Online
  </label>
</div>

