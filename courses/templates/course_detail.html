{% extends "course_app_base.html" %}
{% load static wagtailimages_tags %}

{% block title %}MIT xPro | {{ course.title }}{% endblock %}

{% block extrahead %}
{{ block.super }}
<style>
  .header-block {
    background-image: url('{{ course.background_image_mobile_url }}');
  }

  @media screen and (min-width: 1024px) { 
    .header-block {
      background-image: url('{{ course.background_image_url }}'); 
    }
  }
</style>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="{% static 'js/course_detail.js' %}"></script>
  <script src="{% static 'js/hero.js' %}"></script>
{% endblock %}

{% block content %}
<div>
    {% include "partials/hero.html" with page=course.page %}
    {% include "partials/metadata-tiles.html" %}
    {% include "partials/subnav.html" with product=course %}
    {% if course.outcomes %} {% include "partials/learning-outcomes.html" %} {% endif %}
    {% if course.who_should_enroll %} {% include "partials/target-audience.html" %} {% endif %}
    {% if course.techniques %} {% include "partials/learning-techniques.html" with page=course.techniques %} {% endif %}
    {% if course.testimonials %} {% include "partials/testimonial-carousel.html" with page=course.testimonials %} {% endif %}
    {% if course.faculty %} {% include "partials/faculty-carousel.html" %} {% endif %}
    {% if course.program and course.program.course_lineup %}
      {% with courseware_objects=course.program.courses.all page=course.program.course_lineup %}
        {% include "partials/course-carousel.html" with button_title="View Full Program" button_url="#" %}
      {% endwith %}
    {% endif %}
    {% if course.for_teams %} {% include "partials/for-teams.html" with page=course.for_teams %} {% endif %}
    {% if course.faqs %} {% include "partials/faqs.html" %} {% endif %}
</div>
{% endblock %}
